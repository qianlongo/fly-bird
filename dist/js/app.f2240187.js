(function(t){function n(n){for(var i,o,s=n[0],c=n[1],u=n[2],p=0,h=[];p<s.length;p++)o=s[p],a[o]&&h.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(n);while(h.length)h.shift()();return r.push.apply(r,u||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],i=!0,s=1;s<e.length;s++){var c=e[s];0!==a[c]&&(i=!1)}i&&(r.splice(n--,1),t=o(o.s=e[0]))}return t}var i={},a={1:0},r=[];function o(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="./";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var l=c;r.push([8,0]),e()})({"1xSk":function(t,n,e){"use strict";var i=e("6Hkt"),a=e.n(i);a.a},"6Hkt":function(t,n,e){},8:function(t,n,e){t.exports=e("Vtdi")},"8Svx":function(t,n,e){"use strict";var i=e("Ekca"),a=e.n(i);a.a},Ekca:function(t,n,e){},En0x:function(t,n,e){},G3VP:function(t,n,e){},SWeN:function(t,n,e){"use strict";var i=e("akhc"),a=e.n(i);a.a},Vtdi:function(t,n,e){"use strict";e.r(n);e("VRzm");var i=e("Kw5r"),a=e("jE9Z"),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"fly-bird",attrs:{id:"app"}},[e("GameBg",{attrs:{playState:t.playState}}),e("router-view")],1)},o=[],s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"game-bg"},[e("div",{class:["bg-sky",""+t.playStateClass]}),e("div",{class:["bg-ground",""+t.playStateClass]})])},c=[],u={name:"gameBg",props:{playState:{type:String,default:"running"}},computed:{playStateClass:function(){return"animate-state-".concat(this.playState)}}},l=u,p=(e("YDAR"),e("KHd+")),h=Object(p["a"])(l,s,c,!1,null,null,null),d=h.exports,f={name:"app",data:function(){return{playState:"running"}},components:{GameBg:d},mounted:function(){this.changeGameBgAnimState()},methods:{changeGameBgAnimState:function(){var t=this;this.$bus.$on("playState",function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"running";t.playState=n})}}},m=f,b=(e("rAmE"),Object(p["a"])(m,r,o,!1,null,null,null)),g=b.exports,y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"game-init"},[e("div",{staticClass:"init-title"},[e("i",{staticClass:"init-title-icon"}),e("Bird",{staticClass:"init-bird"})],1),e("StartBtn",{staticClass:"center",on:{"on-click":t.handleStart}})],1)},v=[],S=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("i",{staticClass:"start-btn",on:{click:t.handleClick}})},x=[],P={name:"startBtn",methods:{handleClick:function(){this.$emit("on-click")}}},C=P,T=(e("SWeN"),Object(p["a"])(C,S,x,!1,null,null,null)),$=T.exports,k={name:"init",components:{StartBtn:$},data:function(){return{name:"qianlongo"}},mounted:function(){var t=this;this.$nextTick(function(){t.init()})},methods:{init:function(){this.$bus.$emit("playState","running")},handleStart:function(){this.$router.push({name:"ready"})}}},_=k,B=(e("oleD"),Object(p["a"])(_,y,v,!1,null,null,null)),w=B.exports,j=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"game-ready",on:{click:t.switchToPagePlaying}},[e("i",{staticClass:"ready-title-icon"}),e("Bird",{staticClass:"ready-bird"}),e("i",{staticClass:"ready-instructions"})],1)},E=[],O={name:"ready",mounted:function(){var t=this;this.$nextTick(function(){t.init()})},methods:{init:function(){this.$bus.$emit("playState","paused")},switchToPagePlaying:function(){this.$router.push({name:"playing"})}}},R=O,H=(e("1xSk"),Object(p["a"])(R,j,E,!1,null,null,null)),G=H.exports,M=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"game-playing",on:{touchstart:t.handlePlaying}},[t._l(t.pipes,function(t,n){return e("Pipe",{key:n,attrs:{topPipeH:t.topPipeH,bottomPipeH:t.bottomPipeH}})}),e("Bird",{ref:"bird",staticClass:"playing-bird",style:t.birdStyle})],2)},D=[],V=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"pipe"},[e("i",{staticClass:"pipe-top",style:t.topPipeStyle}),e("i",{staticClass:"pipe-bottom",style:t.bottomPipeStyle})])},A=[],L=(e("xfY5"),{name:"pipe",props:{topPipeH:{type:[String,Number]},bottomPipeH:{type:[String,Number]}},computed:{topPipeStyle:function(){var t="".concat(this.topPipeH,"px");return{height:t}},bottomPipeStyle:function(){var t="".concat(this.bottomPipeH,"px");return{height:t}}}}),I=L,J=(e("xtv2"),Object(p["a"])(I,V,A,!1,null,null,null)),K=J.exports,N=function(t,n){return void 0===n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},q={name:"playing",data:function(){return{gravity:.25,velocity:0,jump:-5,birdTimer:null,birdTimeDelay:1e3/60,birdTop:null,birdMinTop:0,birdMaxTop:0,pipeTimer:null,pipeTimeDelay:1400,pipes:[]}},computed:{birdRotate:function(){return Math.min(this.velocity/10*90,90)},birdStyle:function(){var t="rotate(".concat(this.birdRotate,"deg)"),n="".concat(this.birdTop,"px"),e={top:n,transform:"".concat(t),"-webkit-transform":"".concat(t)};return e}},components:{Pipe:K},mounted:function(){var t=this;this.$nextTick(function(){t.init()})},methods:{init:function(){this.$bus.$emit("playState","running"),this.setInitData(),this.startGame()},setInitData:function(){var t=this.getGameBgGroundRect(),n=this.getBirdRect();this.birdTop=n.y,this.birdMaxTop=t.y-n.height},getGameBgGroundRect:function(){var t=document.querySelector(".bg-ground");return t.getBoundingClientRect()},getBirdRect:function(){var t=this.$refs.bird,n=t.$el.getBoundingClientRect();return n},startGame:function(){this.birdTimer=setInterval(this.birdLoop,this.birdTimeDelay),this.pipeTimer=setInterval(this.pipeLoop,this.pipeTimeDelay)},birdJump:function(){this.velocity=this.jump},birdLoop:function(){var t=this.birdTop;this.velocity+=this.gravity,t+=this.velocity,t=t<=this.birdMinTop?this.birdMinTop:t>=this.birdMaxTop?this.birdMaxTop:t,this.birdTop=t},genPipe:function(){var t=document.querySelector(".bg-sky"),n=t.getBoundingClientRect().height,e=100,i=140,a=200,r=N(i,a),o=N(e,n-r),s=n-(r+o);return{topPipeH:o,bottomPipeH:s}},pipeLoop:function(){this.pipes.push(this.genPipe())},handlePlaying:function(){this.birdJump()}}},z=q,Y=(e("8Svx"),Object(p["a"])(z,M,D,!1,null,null,null)),W=Y.exports,X=[{path:"/",name:"init",component:w},{path:"/ready",name:"ready",component:G},{path:"/playing",name:"playing",component:W}],Z=new a["a"]({mode:"hash",scrollBehavier:function(){return{y:0}},routes:X}),F=Z,Q=function(t){t.prototype.$bus=new t},U=Q,tt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("i",{staticClass:"base-bird"})},nt=[],et={},it=et,at=(e("rXns"),Object(p["a"])(it,tt,nt,!1,null,null,null)),rt=at.exports;i["a"].use(a["a"]),i["a"].use(U),i["a"].component("Bird",rt),i["a"].config.productionTip=!1,new i["a"]({router:F,render:function(t){return t(g)}}).$mount("#app")},VzL9:function(t,n,e){},YDAR:function(t,n,e){"use strict";var i=e("fKSc"),a=e.n(i);a.a},akhc:function(t,n,e){},"bg/R":function(t,n,e){},fKSc:function(t,n,e){},oleD:function(t,n,e){"use strict";var i=e("bg/R"),a=e.n(i);a.a},rAmE:function(t,n,e){"use strict";var i=e("G3VP"),a=e.n(i);a.a},rXns:function(t,n,e){"use strict";var i=e("VzL9"),a=e.n(i);a.a},xtv2:function(t,n,e){"use strict";var i=e("En0x"),a=e.n(i);a.a}});
//# sourceMappingURL=app.f2240187.js.map