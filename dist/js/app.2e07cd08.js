(function(t){function n(n){for(var e,s,o=n[0],c=n[1],u=n[2],p=0,d=[];p<o.length;p++)s=o[p],a[s]&&d.push(a[s][0]),a[s]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);l&&l(n);while(d.length)d.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var t,n=0;n<r.length;n++){for(var i=r[n],e=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(e=!1)}e&&(r.splice(n--,1),t=s(s.s=i[0]))}return t}var e={},a={1:0},r=[];function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,n,i){s.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="./";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=n,o=o.slice();for(var u=0;u<o.length;u++)n(o[u]);var l=c;r.push([8,0]),i()})({"1xSk":function(t,n,i){"use strict";var e=i("6Hkt"),a=i.n(e);a.a},"6Hkt":function(t,n,i){},8:function(t,n,i){t.exports=i("Vtdi")},"8Svx":function(t,n,i){"use strict";var e=i("Ekca"),a=i.n(e);a.a},Ekca:function(t,n,i){},En0x:function(t,n,i){},G3VP:function(t,n,i){},SWeN:function(t,n,i){"use strict";var e=i("akhc"),a=i.n(e);a.a},Vtdi:function(t,n,i){"use strict";i.r(n);i("VRzm");var e=i("Kw5r"),a=i("jE9Z"),r=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"fly-bird",attrs:{id:"app"}},[i("GameBg",{attrs:{playState:t.playState}}),i("router-view")],1)},s=[],o=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"game-bg"},[i("div",{class:["bg-sky",""+t.playStateClass]}),i("div",{class:["bg-ground",""+t.playStateClass]})])},c=[],u={name:"gameBg",props:{playState:{type:String,default:"running"}},computed:{playStateClass:function(){return"animate-state-".concat(this.playState)}}},l=u,p=(i("YDAR"),i("KHd+")),d=Object(p["a"])(l,o,c,!1,null,null,null),f=d.exports,h={name:"app",data:function(){return{playState:"running"}},components:{GameBg:f},mounted:function(){this.changeGameBgAnimState()},methods:{changeGameBgAnimState:function(){var t=this;this.$bus.$on("playState",function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"running";t.playState=n})}}},m=h,b=(i("rAmE"),Object(p["a"])(m,r,s,!1,null,null,null)),v=b.exports,g=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"game-init"},[i("div",{staticClass:"init-title"},[i("i",{staticClass:"init-title-icon"}),i("Bird",{staticClass:"init-bird"})],1),i("StartBtn",{staticClass:"center",on:{"on-click":t.handleStart}})],1)},y=[],S=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("i",{staticClass:"start-btn",on:{click:t.handleClick}})},x=[],$={name:"startBtn",methods:{handleClick:function(){this.$emit("on-click")}}},C=$,_=(i("SWeN"),Object(p["a"])(C,S,x,!1,null,null,null)),T=_.exports,k={name:"init",components:{StartBtn:T},data:function(){return{name:"qianlongo"}},mounted:function(){var t=this;this.$nextTick(function(){t.init()})},methods:{init:function(){this.$bus.$emit("playState","running")},handleStart:function(){this.$router.push({name:"ready"})}}},B=k,w=(i("oleD"),Object(p["a"])(B,g,y,!1,null,null,null)),E=w.exports,j=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"game-ready",on:{click:t.switchToPagePlaying}},[i("i",{staticClass:"ready-title-icon"}),i("Bird",{staticClass:"ready-bird"}),i("i",{staticClass:"ready-instructions"})],1)},O=[],P={name:"ready",mounted:function(){var t=this;this.$nextTick(function(){t.init()})},methods:{init:function(){this.$bus.$emit("playState","paused")},switchToPagePlaying:function(){this.$router.push({name:"playing"})}}},R=P,G=(i("1xSk"),Object(p["a"])(R,j,O,!1,null,null,null)),M=G.exports,D=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"game-playing",on:{touchstart:t.handlePlaying}},[i("Pipe"),i("Bird",{ref:"bird",staticClass:"playing-bird",style:t.birdStyle})],1)},V=[],A=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},J=[function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"pipe"},[i("i",{staticClass:"pipe-top"}),i("i",{staticClass:"pipe-bottom"})])}],K={},L=K,z=(i("xtv2"),Object(p["a"])(L,A,J,!1,null,null,null)),H=z.exports,I={name:"playing",data:function(){return{gravity:.25,velocity:0,birdTimer:null,birdTop:null,birdMinTop:0,birdMaxTop:0,birdTimeDelay:1e3/60,jump:-5}},computed:{birdRotate:function(){return Math.min(this.velocity/10*90,90)},birdStyle:function(){var t="rotate(".concat(this.birdRotate,"deg)"),n="".concat(this.birdTop,"px"),i={top:n,transform:"".concat(t),"-webkit-transform":"".concat(t)};return i}},components:{Pipe:H},mounted:function(){var t=this;this.$nextTick(function(){t.init()})},methods:{init:function(){this.$bus.$emit("playState","running"),this.setInitData(),this.startGame()},setInitData:function(){var t=this.getGameBgGroundRect(),n=this.getBirdRect();this.birdTop=n.y,this.birdMaxTop=t.y-n.height},getGameBgGroundRect:function(){var t=document.querySelector(".bg-ground");return t.getBoundingClientRect()},getBirdRect:function(){var t=this.$refs.bird,n=t.$el.getBoundingClientRect();return n},startGame:function(){this.birdTimer=setInterval(this.birdLoop,this.birdTimeDelay)},birdJump:function(){this.velocity=this.jump},birdLoop:function(){var t=this.birdTop;this.velocity+=this.gravity,t+=this.velocity,t=t<=this.birdMinTop?this.birdMinTop:t>=this.birdMaxTop?this.birdMaxTop:t,this.birdTop=t},handlePlaying:function(){this.birdJump()}}},q=I,N=(i("8Svx"),Object(p["a"])(q,D,V,!1,null,null,null)),W=N.exports,X=[{path:"/",name:"init",component:E},{path:"/ready",name:"ready",component:M},{path:"/playing",name:"playing",component:W}],Y=new a["a"]({mode:"hash",scrollBehavier:function(){return{y:0}},routes:X}),Z=Y,F=function(t){t.prototype.$bus=new t},Q=F,U=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("i",{staticClass:"base-bird"})},tt=[],nt={},it=nt,et=(i("rXns"),Object(p["a"])(it,U,tt,!1,null,null,null)),at=et.exports;e["a"].use(a["a"]),e["a"].use(Q),e["a"].component("Bird",at),e["a"].config.productionTip=!1,new e["a"]({router:Z,render:function(t){return t(v)}}).$mount("#app")},VzL9:function(t,n,i){},YDAR:function(t,n,i){"use strict";var e=i("fKSc"),a=i.n(e);a.a},akhc:function(t,n,i){},"bg/R":function(t,n,i){},fKSc:function(t,n,i){},oleD:function(t,n,i){"use strict";var e=i("bg/R"),a=i.n(e);a.a},rAmE:function(t,n,i){"use strict";var e=i("G3VP"),a=i.n(e);a.a},rXns:function(t,n,i){"use strict";var e=i("VzL9"),a=i.n(e);a.a},xtv2:function(t,n,i){"use strict";var e=i("En0x"),a=i.n(e);a.a}});
//# sourceMappingURL=app.2e07cd08.js.map